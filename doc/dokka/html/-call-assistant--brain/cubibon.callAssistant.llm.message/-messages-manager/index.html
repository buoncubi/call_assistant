<!DOCTYPE html>
<html class="no-js">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>MessagesManager</title>
    <link href="../../../images/logo-icon.svg" rel="icon" type="image/svg">
    <script>var pathToRoot = "../../../";</script>
    <script>document.documentElement.classList.replace("no-js","js");</script>
    <script>const storage = localStorage.getItem("dokka-dark-mode")
    if (storage == null) {
        const osDarkSchemePreferred = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
        if (osDarkSchemePreferred === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    } else {
        const savedDarkMode = JSON.parse(storage)
        if(savedDarkMode === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    }
    </script>
<script type="text/javascript" src="https://unpkg.com/kotlin-playground@1/dist/playground.min.js" async="async"></script>
<script type="text/javascript" src="../../../scripts/sourceset_dependencies.js" async="async"></script>
<link href="../../../styles/style.css" rel="Stylesheet">
<link href="../../../styles/main.css" rel="Stylesheet">
<link href="../../../styles/prism.css" rel="Stylesheet">
<link href="../../../styles/logo-styles.css" rel="Stylesheet">
<link href="../../../styles/font-jb-sans-auto.css" rel="Stylesheet">
<link href="../../../ui-kit/ui-kit.min.css" rel="Stylesheet">
<script type="text/javascript" src="../../../scripts/clipboard.js" async="async"></script>
<script type="text/javascript" src="../../../scripts/navigation-loader.js" async="async"></script>
<script type="text/javascript" src="../../../scripts/platform-content-handler.js" async="async"></script>
<script type="text/javascript" src="../../../scripts/main.js" defer="defer"></script>
<script type="text/javascript" src="../../../scripts/prism.js" async="async"></script>
<script type="text/javascript" src="../../../ui-kit/ui-kit.min.js" defer="defer"></script>
<script type="text/javascript" src="../../../scripts/symbol-parameters-wrapper_deferred.js" defer="defer"></script>
</head>
<body>
    <div class="root">
    <nav class="navigation theme-dark" id="navigation-wrapper">
            <a class="library-name--link" href="../../../index.html">
                    CallAssistant-Brain
            </a>
        <button class="navigation-controls--btn navigation-controls--btn_toc ui-kit_mobile-only" id="toc-toggle"
                type="button">Toggle table of contents
        </button>
        <div class="navigation-controls--break ui-kit_mobile-only"></div>
        <div class="library-version" id="library-version">
0.1.0        </div>
        <div class="navigation-controls">
        <div class="filter-section filter-section_loading" id="filter-section">
                <button class="platform-tag platform-selector jvm-like" data-active=""
                        data-filter=":/main">jvm</button>
            <div class="dropdown filter-section--dropdown" data-role="dropdown" id="filter-section-dropdown">
                <button class="button button_dropdown filter-section--dropdown-toggle" role="combobox"
                        data-role="dropdown-toggle"
                        aria-controls="platform-tags-listbox"
                        aria-haspopup="listbox"
                        aria-expanded="false"
                        aria-label="Toggle source sets"
                ></button>
                <ul role="listbox" id="platform-tags-listbox" class="dropdown--list" data-role="dropdown-listbox">
                    <div class="dropdown--header"><span>Platform filter</span>
                        <button class="button" data-role="dropdown-toggle" aria-label="Close platform filter">
                            <i class="ui-kit-icon ui-kit-icon_cross"></i>
                        </button>
                    </div>
                        <li role="option" class="dropdown--option platform-selector-option jvm-like" tabindex="0">
                            <label class="checkbox">
                                <input type="checkbox" class="checkbox--input" id=":/main"
                                       data-filter=":/main"/>
                                <span class="checkbox--icon"></span>
                                jvm
                            </label>
                        </li>
                </ul>
                <div class="dropdown--overlay"></div>
            </div>
        </div>
            <button class="navigation-controls--btn navigation-controls--btn_theme" id="theme-toggle-button"
                    type="button">Switch theme
            </button>
            <div class="navigation-controls--btn navigation-controls--btn_search" id="searchBar" role="button">Search in
                API
            </div>
        </div>
    </nav>
        <div id="container">
            <div class="sidebar" id="leftColumn">
                <div class="dropdown theme-dark_mobile" data-role="dropdown" id="toc-dropdown">
                    <ul role="listbox" id="toc-listbox" class="dropdown--list dropdown--list_toc-list"
                        data-role="dropdown-listbox">
                        <div class="dropdown--header">
                            <span>
                                    CallAssistant-Brain
                            </span>
                            <button class="button" data-role="dropdown-toggle" aria-label="Close table of contents">
                                <i class="ui-kit-icon ui-kit-icon_cross"></i>
                            </button>
                        </div>
                        <div class="sidebar--inner" id="sideMenu"></div>
                    </ul>
                    <div class="dropdown--overlay"></div>
                </div>
            </div>
            <div id="main">
<div class="main-content" data-page-type="classlike" id="content" pageIds="CallAssistant-Brain::cubibon.callAssistant.llm.message/MessagesManager///PointingToDeclaration//-251573632">
  <div class="breadcrumbs"><a href="../../../index.html">CallAssistant-Brain</a><span class="delimiter">/</span><a href="../index.html">cubibon.callAssistant.llm.message</a><span class="delimiter">/</span><span class="current">MessagesManager</span></div>
  <div class="cover ">
    <h1 class="cover"><span>Messages</span><wbr></wbr><span><span>Manager</span></span></h1>
    <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":/main"><div class="symbol monospace"><span class="token keyword">class </span><a href="index.html">MessagesManager</a><span class="token operator">&lt;</span><a href="index.html">M</a><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">messageBuilder<span class="token operator">: </span><span class="token punctuation">(</span>logger<span class="token operator">: </span><a href="../../cubibon.callAssistant/-centralized-logger/index.html">CentralizedLogger</a><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><a href="../-message-wrapper/-builder/index.html">MessageWrapper.Builder</a><span class="token operator">&lt;</span><a href="index.html">M</a><span class="token operator">&gt;</span></span></span><span class="token punctuation">)</span> : <a href="../../cubibon.callAssistant/-loggable/index.html">Loggable</a></div><p class="paragraph">The manager of a collection of messages between the user and the LLM-based assistant. It is designed to be used with different LLM providers, since messages type <code class="lang-kotlin">M</code> can be customized.</p><p class="paragraph">It also implements a summarization mechanism, which is used to reduce the number of messages sent to the LLM, while maintaining the context related to previous messages. At the same time, it conserves the references to all messages exchanged between the user and the assistant for logging purposes. For this reason it manages a single list of message, but provides two different views of it.</p><p class="paragraph">Each message is represented through a list of string <a href="../-message-wrapper/contents.html">MessageWrapper.contents</a>, a <a href="../-message-wrapper/role.html">MessageWrapper.role</a> and <a href="../-message-wrapper/metadata.html">MessageWrapper.metadata</a>. The <code class="lang-kotlin">contents</code> are the actual message text, <code class="lang-kotlin">metadata</code> contains data for logging purposes, while <code class="lang-kotlin">role</code> can be of type:</p><ul><li><p class="paragraph"><a href="../-meta-role/-u-s-e-r/index.html">MetaRole.USER</a>: when the message is given by the <code class="lang-kotlin">user</code>.</p></li><li><p class="paragraph"><a href="../-meta-role/-a-s-s-i-s-t-a-n-t/index.html">MetaRole.ASSISTANT</a>: when the message is given by the LLM-based <code class="lang-kotlin">assistant</code>.</p></li><li><p class="paragraph"><a href="../-meta-role/-s-u-m-m-a-r-y/index.html">MetaRole.SUMMARY</a>: a synthetic message that summarize previous <code class="lang-kotlin">user</code> and <code class="lang-kotlin">assistant</code> messages, and that should be     given to the LLM model through its prompt. Note that typical LLM provides requires messages to alternate only between <code class="lang-kotlin">user</code> (which should be the first one) and <code class="lang-kotlin">assistant</code>. Also, note that the contests of the <code class="lang-kotlin">summary</code> can be obtained with the help of the LLM instructed with a specific prompt, which is different from the one used to converse with the user.</p></li></ul><p class="paragraph">To implement this behaviour, this class manages an internal <span data-unresolved-link="cubibon.callAssistant.llm.message/MessagesManager/mutableMessages/#/PointingToDeclaration/">mutableMessages</span> (i.e., a list of <a href="../-message-wrapper/-builder/index.html">MessageWrapper.Builder</a>), which contains all information about messages, their role, and metadata. Such a list is paired with an index (i.e., <span data-unresolved-link="cubibon.callAssistant.llm.message/MessagesManager/firstLlmMessageIdx/#/PointingToDeclaration/">firstLlmMessageIdx</span>) that points to the first message that should be given to the LLM model, which coincide with the last summarization message, and it is updated over time. By exploiting this representation, the <code class="lang-kotlin">MessageManager</code> can indeed provide two different set of message, which are:</p><ul><li><p class="paragraph"><a href="meta-messages.html">metaMessages</a>: is an immutable reference to <span data-unresolved-link="cubibon.callAssistant.llm.message/MessagesManager/mutableMessages/#/PointingToDeclaration/">mutableMessages</span> which contains all information for logging     purposes, and it can be stored on AWS DynamoDB though toDynamoDB;</p></li><li><p class="paragraph"><a href="messages.html">messages</a>: is an immutable copy of <span data-unresolved-link="cubibon.callAssistant.llm.message/MessagesManager/mutableMessages/#/PointingToDeclaration/">mutableMessages</span> which contains only the messages that should be given to the     LLM model. This list would neither contain the <code class="lang-kotlin">summary</code> messages nor elements related to messages previously     summarized.</p></li></ul><p class="paragraph">For generality, this class leverage the factory paradigm and a lambda function to allow specifying the type of messages that are constructed and managed. For this reason, the constructor of this class should be something similar to (see <a href="../-message-wrapper/-builder/index.html">LlmMessage.Builder</a> for more):</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">val manager = MessageManager { logger: CentralizedLogger -&gt;<br>        MyWrapper&lt;M&gt;.build(MyMessage.build(logger), logger)<br>    }</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">Note that this lambda function is also in charge to propagate the logger from the <code class="lang-kotlin">MessageManager</code> to the messages.</p><p class="paragraph">Messages to be managed can be introduced with the <a href="add-user.html">addUser</a> and <a href="add-assistant.html">addAssistant</a> methods, and the implementation is such to assure that:</p><ul><li><p class="paragraph"><code class="lang-kotlin">user</code> and <code class="lang-kotlin">assistant</code> message are always alternated. If two consecutive messages have the same role, then they will be merged into a single message.</p></li><li><p class="paragraph">the first message has the <code class="lang-kotlin">user</code> role, even after a summarization process. If the very first message is of type <code class="lang-kotlin">assistant</code>, then a fake message (of type <code class="lang-kotlin">user</code> and contents equal to <a href="-companion/-f-a-k-e_-m-e-s-s-a-g-e_-c-o-n-t-e-n-t-s.html">FAKE_MESSAGE_CONTENTS</a>) is added, but it will not be considered during summarization.</p></li><li><p class="paragraph">the last <code class="lang-kotlin">user</code> message that has not been addressed by the LLM yet (i.e., there is no following messages of type <code class="lang-kotlin">assistant</code>) is never summarized.</p></li></ul><p class="paragraph">To perform the summarization process, you should follow these steps:</p><ol><li><p class="paragraph">use <a href="get-summary-info.html">getSummaryInfo</a> to get the information about the messages that should be summarized</p></li><li><p class="paragraph">use the LLM model to generate the message summarization</p></li><li><p class="paragraph">use <a href="add-summary.html">addSummary</a> to addNewMessage the summarization message and update the list of messages accordingly.</p></li></ol><p class="paragraph">Note that the <a href="add-user.html">addUser</a>, <a href="add-assistant.html">addAssistant</a> and <a href="add-user.html">addUser</a> returns a pointer to the new constructed message which should be used to store related metadata.</p><p class="paragraph">Each message is associated with a unique identifier, and contains some metadata, which encompass</p><ul><li><p class="paragraph">a list of <a href="../-meta-attribute/index.html">MetaAttribute</a> to tag fake messages, and messages that have been merged,</p></li><li><p class="paragraph">a map of <a href="../-meta-timing/index.html">MetaTiming</a>, which contains time instants for some events (e.g., creation, play, etc.),</p></li><li><p class="paragraph">a list of identifiers, which occurs on summary messages to identify which messages have been summarized,</p></li><li><p class="paragraph">a <code class="lang-kotlin">Map&lt;String, Any&gt;</code>, which contains auxiliary data that can be set from the classes that uses the     <code class="lang-kotlin">MessagesManager</code>. Check also <a href="../-meta-message/index.html">MetaMessage</a> for more information about metadata.</p></li></ul><p class="paragraph">The <a href="meta-messages.html">metaMessages</a> can be converted to a map with <a href="to-messages-map.html">toMessagesMap</a>, which should be used to store information on a NoSQL database for logging purposes (e.g., see <a href="../-dynamo-d-b-message/index.html">DynamoDBMessage</a> to convert the message map into a map that can be stored on AWS Dynamo DB). Such a map can be given for all messages or in an incremental manner. Also, such a map can include or exclude the last message, which might be merged with future messages (i.e., if it is not excluded and merged, then some information can be lost).</p><span class="kdoc-tag"><h4 class="">Author</h4><p class="paragraph">Luca Buoncompagni, Â© 2025, v1.0.</p></span><h4 class="">Parameters</h4><div class="table"><div class="table-row" data-filterable-current=":/main" data-filterable-set=":/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span><span>M</span></span></u></div></span></div><div><div class="title"><p class="paragraph">The type of message as required by the LLM provider</p></div></div></div></div></div><h4 class="">See also</h4><div class="table"><div class="table-row" data-filterable-current=":/main" data-filterable-set=":/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><a href="../-message-wrapper/index.html"><span>Message</span><wbr></wbr><span><span>Wrapper</span></span></a></div></span></div><div></div></div></div><div class="table-row" data-filterable-current=":/main" data-filterable-set=":/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><a href="../-message-wrapper/-builder/index.html"><span>Message</span><wbr></wbr><span>Wrapper.</span><wbr></wbr><span>Builder</span></a></div></span></div><div></div></div></div><div class="table-row" data-filterable-current=":/main" data-filterable-set=":/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><a href="../-llm-message/index.html"><span>Llm</span><wbr></wbr><span><span>Message</span></span></a></div></span></div><div></div></div></div><div class="table-row" data-filterable-current=":/main" data-filterable-set=":/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><a href="../-llm-message/-builder/index.html"><span>LlmMessage.</span><wbr></wbr><span>Builder</span></a></div></span></div><div></div></div></div><div class="table-row" data-filterable-current=":/main" data-filterable-set=":/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><a href="../-aws-message/index.html"><span>Aws</span><wbr></wbr><span><span>Message</span></span></a></div></span></div><div></div></div></div></div></div></div>
  </div>
  <div class="tabbedcontent">
    <div class="tabs-section" tabs-section="tabs-section"><button class="section-tab" data-active="" data-togglable="CONSTRUCTOR,TYPE,PROPERTY,FUNCTION">Members</button><button class="section-tab" data-togglable="CONSTRUCTOR,TYPE,PROPERTY,FUNCTION,EXTENSION_PROPERTY,EXTENSION_FUNCTION">Members &amp; Extensions</button></div>
    <div class="tabs-section-body">
      <div data-togglable="CONSTRUCTOR">
        <h2 class="">Constructors</h2>
        <div class="table"><a data-name="1310955651%2FConstructors%2F-251573632" anchor-label="MessagesManager" id="1310955651%2FConstructors%2F-251573632" data-filterable-set=":/main"></a>
          <div class="table-row" data-togglable="CONSTRUCTOR" data-filterable-current=":/main" data-filterable-set=":/main">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="-messages-manager.html"><span>Messages</span><wbr></wbr><span><span>Manager</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1310955651%2FConstructors%2F-251573632"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":/main"><div class="symbol monospace"><span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">messageBuilder<span class="token operator">: </span><span class="token punctuation">(</span>logger<span class="token operator">: </span><a href="../../cubibon.callAssistant/-centralized-logger/index.html">CentralizedLogger</a><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><a href="../-message-wrapper/-builder/index.html">MessageWrapper.Builder</a><span class="token operator">&lt;</span><a href="index.html">M</a><span class="token operator">&gt;</span></span></span><span class="token punctuation">)</span></div><div class="brief "><p class="paragraph">Requires a factory-based lambda function that is able to create instances of <a href="../-message-wrapper/-builder/index.html">MessageWrapper.Builder</a>, which in turn build instances of <a href="../-llm-message/-builder/index.html">LlmMessage.Builder</a>. This lambda function is used all the times a new message is added to the list of messages through <a href="add-user.html">addUser</a>, <a href="add-assistant.html">addAssistant</a>, <a href="add-summary.html">addSummary</a>. Also note that this lambda function should propagate the logger from the <code class="lang-kotlin">MessageManager</code> to the instantiated messages.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div data-togglable="TYPE">
        <h2 class="">Types</h2>
        <div class="table"><a data-name="-669820241%2FClasslikes%2F-251573632" anchor-label="Companion" id="-669820241%2FClasslikes%2F-251573632" data-filterable-set=":/main"></a>
          <div class="table-row" data-filterable-current=":/main" data-filterable-set=":/main">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="-companion/index.html"><span><span>Companion</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-669820241%2FClasslikes%2F-251573632"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":/main"><div class="symbol monospace"><span class="token keyword">object </span><a href="-companion/index.html">Companion</a></div></div></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div data-togglable="PROPERTY">
        <h2 class="">Properties</h2>
        <div class="table"><a data-name="-601708314%2FProperties%2F-251573632" anchor-label="messages" id="-601708314%2FProperties%2F-251573632" data-filterable-set=":/main"></a>
          <div class="table-row" data-filterable-current=":/main" data-filterable-set=":/main">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="messages.html"><span><span>messages</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-601708314%2FProperties%2F-251573632"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":/main"><div class="symbol monospace"><span class="token keyword">val </span><a href="messages.html">messages</a><span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="index.html">M</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">An immutable copy of <span data-unresolved-link="cubibon.callAssistant.llm.message/MessagesManager/mutableMessages/#/PointingToDeclaration/">mutableMessages</span> which contains only the messages that should be given to the LLM model (i.e., messages of type <code class="lang-kotlin">M</code> computed through <a href="../-message-wrapper/raw-message.html">MessageWrapper.rawMessage</a>, which in turn wraps <a href="../-llm-message/get-raw-message.html">LlmMessage.getRawMessage</a>). This list would neither contain the <code class="lang-kotlin">summary</code> messages nor elements related to messages previously summarized. In other words, it is related to the elements of <span data-unresolved-link="cubibon.callAssistant.llm.message/MessagesManager/mutableMessages/#/PointingToDeclaration/">mutableMessages</span> within the range <code class="lang-kotlin">[firstLlmMessageIdx, mutableMessages.size)</code>.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-1588780797%2FProperties%2F-251573632" anchor-label="messagesStr" id="-1588780797%2FProperties%2F-251573632" data-filterable-set=":/main"></a>
          <div class="table-row" data-filterable-current=":/main" data-filterable-set=":/main">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="messages-str.html"><span>messages</span><wbr></wbr><span><span>Str</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-1588780797%2FProperties%2F-251573632"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":/main"><div class="symbol monospace"><span class="token keyword">val </span><a href="messages-str.html">messagesStr</a><span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="../-message-wrapper/index.html">MessageWrapper</a><span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token operator">&gt;</span></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="1584538849%2FProperties%2F-251573632" anchor-label="metaMessages" id="1584538849%2FProperties%2F-251573632" data-filterable-set=":/main"></a>
          <div class="table-row" data-filterable-current=":/main" data-filterable-set=":/main">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="meta-messages.html"><span>meta</span><wbr></wbr><span><span>Messages</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1584538849%2FProperties%2F-251573632"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":/main"><div class="symbol monospace"><span class="token keyword">val </span><a href="meta-messages.html">metaMessages</a><span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="../-message-wrapper/index.html">MessageWrapper</a><span class="token operator">&lt;</span><a href="index.html">M</a><span class="token operator">&gt;</span><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">An immutable reference to <span data-unresolved-link="cubibon.callAssistant.llm.message/MessagesManager/mutableMessages/#/PointingToDeclaration/">mutableMessages</span> which contains all information for logging purposes, and it can be converted to a map with <a href="to-messages-map.html">toMessagesMap</a>.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div data-togglable="FUNCTION">
        <h2 class="">Functions</h2>
        <div class="table"><a data-name="1724661052%2FFunctions%2F-251573632" anchor-label="addAssistant" id="1724661052%2FFunctions%2F-251573632" data-filterable-set=":/main"></a>
          <div class="table-row" data-filterable-current=":/main" data-filterable-set=":/main">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="add-assistant.html"><span>add</span><wbr></wbr><span><span>Assistant</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1724661052%2FFunctions%2F-251573632"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":/main"><div class="symbol monospace"><span class="token keyword">fun </span><a href="add-assistant.html"><span class="token function">addAssistant</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">contents<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../-message-wrapper/index.html">MessageWrapper</a><span class="token operator">&lt;</span><a href="index.html">M</a><span class="token operator">&gt;</span><span class="token operator">?</span></div><div class="symbol monospace"><span class="token keyword">fun </span><a href="add-assistant.html"><span class="token function">addAssistant</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">contents<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token operator">&gt;</span></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../-message-wrapper/index.html">MessageWrapper</a><span class="token operator">&lt;</span><a href="index.html">M</a><span class="token operator">&gt;</span><span class="token operator">?</span></div><div class="brief "><p class="paragraph">Add a new message of type <a href="../-meta-role/-a-s-s-i-s-t-a-n-t/index.html">MetaRole.ASSISTANT</a> (see <a href="add-message.html">addMessage</a> for more info). The message cannot be added with empty <code class="lang-kotlin">contents</code>.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="207646196%2FFunctions%2F-251573632" anchor-label="addMessage" id="207646196%2FFunctions%2F-251573632" data-filterable-set=":/main"></a>
          <div class="table-row" data-filterable-current=":/main" data-filterable-set=":/main">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="add-message.html"><span>add</span><wbr></wbr><span><span>Message</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="207646196%2FFunctions%2F-251573632"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":/main"><div class="symbol monospace"><span class="token keyword">fun </span><a href="add-message.html"><span class="token function">addMessage</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">role<span class="token operator">: </span><a href="../-meta-role/index.html">MetaRole</a><span class="token punctuation">, </span></span><span class="parameter ">contents<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token operator">&gt;</span></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../-message-wrapper/index.html">MessageWrapper</a><span class="token operator">&lt;</span><a href="index.html">M</a><span class="token operator">&gt;</span><span class="token operator">?</span></div><div class="brief "><p class="paragraph">Add a new message to the <span data-unresolved-link="cubibon.callAssistant.llm.message/MessagesManager/mutableMessages/#/PointingToDeclaration/">mutableMessages</span> list, which will have the given <code class="lang-kotlin">role</code> and string <code class="lang-kotlin">contents</code>. This function is publicly available through <a href="add-assistant.html">addAssistant</a> and <a href="add-user.html">addUser</a>.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-864567156%2FFunctions%2F-251573632" anchor-label="addSummary" id="-864567156%2FFunctions%2F-251573632" data-filterable-set=":/main"></a>
          <div class="table-row" data-filterable-current=":/main" data-filterable-set=":/main">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="add-summary.html"><span>add</span><wbr></wbr><span><span>Summary</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-864567156%2FFunctions%2F-251573632"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":/main"><div class="symbol monospace"><span class="token keyword">fun </span><a href="add-summary.html"><span class="token function">addSummary</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">summary<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token punctuation">, </span></span><span class="parameter ">summarizing<span class="token operator">: </span><a href="../-summarizing/index.html">Summarizing</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../-message-wrapper/index.html">MessageWrapper</a><span class="token operator">&lt;</span><a href="index.html">M</a><span class="token operator">&gt;</span><span class="token operator">?</span></div><div class="symbol monospace"><span class="token keyword">fun </span><a href="add-summary.html"><span class="token function">addSummary</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">summary<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token operator">&gt;</span><span class="token punctuation">, </span></span><span class="parameter ">summarizing<span class="token operator">: </span><a href="../-summarizing/index.html">Summarizing</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../-message-wrapper/index.html">MessageWrapper</a><span class="token operator">&lt;</span><a href="index.html">M</a><span class="token operator">&gt;</span><span class="token operator">?</span></div><div class="brief "><p class="paragraph">Add a summary message to <span data-unresolved-link="cubibon.callAssistant.llm.message/MessagesManager/mutableMessages/#/PointingToDeclaration/">mutableMessages</span>, and modify consequently what the <a href="messages.html">messages</a> contains by updating the <span data-unresolved-link="cubibon.callAssistant.llm.message/MessagesManager/firstLlmMessageIdx/#/PointingToDeclaration/">firstLlmMessageIdx</span>.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="249887938%2FFunctions%2F-251573632" anchor-label="addUser" id="249887938%2FFunctions%2F-251573632" data-filterable-set=":/main"></a>
          <div class="table-row" data-filterable-current=":/main" data-filterable-set=":/main">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="add-user.html"><span>add</span><wbr></wbr><span><span>User</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="249887938%2FFunctions%2F-251573632"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":/main"><div class="symbol monospace"><span class="token keyword">fun </span><a href="add-user.html"><span class="token function">addUser</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">contents<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../-message-wrapper/index.html">MessageWrapper</a><span class="token operator">&lt;</span><a href="index.html">M</a><span class="token operator">&gt;</span><span class="token operator">?</span></div><div class="symbol monospace"><span class="token keyword">fun </span><a href="add-user.html"><span class="token function">addUser</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">contents<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token operator">&gt;</span></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../-message-wrapper/index.html">MessageWrapper</a><span class="token operator">&lt;</span><a href="index.html">M</a><span class="token operator">&gt;</span><span class="token operator">?</span></div><div class="brief "><p class="paragraph">Add a new message of type <a href="../-meta-role/-u-s-e-r/index.html">MetaRole.USER</a> (see <a href="add-message.html">addMessage</a> for more info). The message cannot be added with empty <code class="lang-kotlin">contents</code>.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-1560903880%2FFunctions%2F-251573632" anchor-label="getLastSummary" id="-1560903880%2FFunctions%2F-251573632" data-filterable-set=":/main"></a>
          <div class="table-row" data-filterable-current=":/main" data-filterable-set=":/main">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="get-last-summary.html"><span>get</span><wbr></wbr><span>Last</span><wbr></wbr><span><span>Summary</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-1560903880%2FFunctions%2F-251573632"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":/main"><div class="symbol monospace"><span class="token keyword">fun </span><a href="get-last-summary.html"><span class="token function">getLastSummary</span></a><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../-message-wrapper/index.html">MessageWrapper</a><span class="token operator">&lt;</span><a href="index.html">M</a><span class="token operator">&gt;</span><span class="token operator">?</span></div><div class="brief "><p class="paragraph">Returns the last summarization message. It returns <code class="lang-kotlin">null</code> if no summarization as been performed yet.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-552358284%2FFunctions%2F-251573632" anchor-label="getSummaryInfo" id="-552358284%2FFunctions%2F-251573632" data-filterable-set=":/main"></a>
          <div class="table-row" data-filterable-current=":/main" data-filterable-set=":/main">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="get-summary-info.html"><span>get</span><wbr></wbr><span>Summary</span><wbr></wbr><span><span>Info</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-552358284%2FFunctions%2F-251573632"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":/main"><div class="symbol monospace"><span class="token keyword">fun </span><a href="get-summary-info.html"><span class="token function">getSummaryInfo</span></a><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../-summarizing/index.html">Summarizing</a></div><div class="brief "><p class="paragraph">Retrieves data to be used to invoke <a href="add-summary.html">addSummary</a>. This method is provided to allow you computing the summary message based on some previous messages, before to add a new summary to he <span data-unresolved-link="cubibon.callAssistant.llm.message/MessagesManager/mutableMessages/#/PointingToDeclaration/">mutableMessages</span> list.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="1568355414%2FFunctions%2F-251573632" anchor-label="loggerFactory" id="1568355414%2FFunctions%2F-251573632" data-filterable-set=":/main"></a>
          <div class="table-row" data-filterable-current=":/main" data-filterable-set=":/main">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="../../cubibon.callAssistant/-loggable-interface/logger-factory.html"><span>logger</span><wbr></wbr><span><span>Factory</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1568355414%2FFunctions%2F-251573632"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":/main"><div class="symbol monospace"><span class="token keyword">open </span><span class="token keyword">fun </span><a href="../../cubibon.callAssistant/-loggable-interface/index.html">LoggableInterface</a><span class="token punctuation">.</span><a href="../../cubibon.callAssistant/-loggable-interface/logger-factory.html"><span class="token function">loggerFactory</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">clazz<span class="token operator">: </span><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Class.html">Class</a><span class="token operator">&lt;</span><span class="token keyword">out </span><a href="../../cubibon.callAssistant/-loggable-interface/index.html">LoggableInterface</a><span class="token operator">&gt;</span><span class="token operator">?</span><span class="token operator"> = </span>null</span></span><span class="token punctuation">)</span><span class="token operator">: </span><span data-unresolved-link="org.slf4j/Logger///PointingToDeclaration/">Logger</span></div><div class="brief "><p class="paragraph">It instanciate a new <span data-unresolved-link="cubibon.callAssistant/LoggableInterface.Factory///PointingToDeclaration/">Factory</span> and provides a reference to the <span data-unresolved-link="org.slf4j/Logger///PointingToDeclaration/">Logger</span> instance, which identifier is associated with the package name of <code class="lang-kotlin">this</code>. Note that this function can only be used by the classes implementing the <a href="../../cubibon.callAssistant/-loggable-interface/index.html">LoggableInterface</a> interface,</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="1568355414%2FFunctions%2F-251573632" anchor-label="loggerFactory" id="1568355414%2FFunctions%2F-251573632" data-filterable-set=":/main"></a>
          <div class="table-row" data-togglable="EXTENSION_FUNCTION" data-filterable-current=":/main" data-filterable-set=":/main">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="../../cubibon.callAssistant/-loggable-interface/logger-factory.html"><span>logger</span><wbr></wbr><span><span>Factory</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1568355414%2FFunctions%2F-251573632"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":/main"><div class="symbol monospace"><span class="token keyword">open </span><span class="token keyword">fun </span><a href="../../cubibon.callAssistant/-loggable-interface/index.html">LoggableInterface</a><span class="token punctuation">.</span><a href="../../cubibon.callAssistant/-loggable-interface/logger-factory.html"><span class="token function">loggerFactory</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">clazz<span class="token operator">: </span><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Class.html">Class</a><span class="token operator">&lt;</span><span class="token keyword">out </span><a href="../../cubibon.callAssistant/-loggable-interface/index.html">LoggableInterface</a><span class="token operator">&gt;</span><span class="token operator">?</span><span class="token operator"> = </span>null</span></span><span class="token punctuation">)</span><span class="token operator">: </span><span data-unresolved-link="org.slf4j/Logger///PointingToDeclaration/">Logger</span></div><div class="brief "><p class="paragraph">It instanciate a new <span data-unresolved-link="cubibon.callAssistant/LoggableInterface.Factory///PointingToDeclaration/">Factory</span> and provides a reference to the <span data-unresolved-link="org.slf4j/Logger///PointingToDeclaration/">Logger</span> instance, which identifier is associated with the package name of <code class="lang-kotlin">this</code>. Note that this function can only be used by the classes implementing the <a href="../../cubibon.callAssistant/-loggable-interface/index.html">LoggableInterface</a> interface,</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-622851692%2FFunctions%2F-251573632" anchor-label="setLoggingLevel" id="-622851692%2FFunctions%2F-251573632" data-filterable-set=":/main"></a>
          <div class="table-row" data-filterable-current=":/main" data-filterable-set=":/main">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="../../cubibon.callAssistant/-loggable/set-logging-level.html"><span>set</span><wbr></wbr><span>Logging</span><wbr></wbr><span><span>Level</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-622851692%2FFunctions%2F-251573632"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":/main"><div class="symbol monospace"><span class="token keyword">fun </span><a href="../../cubibon.callAssistant/-loggable/set-logging-level.html"><span class="token function">setLoggingLevel</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">level<span class="token operator">: </span><span data-unresolved-link="org.slf4j.event/Level///PointingToDeclaration/">Level</span></span></span><span class="token punctuation">)</span></div><div class="brief "><p class="paragraph">Sets the logging level of this logger. This function should only be used for testing purposes, use environmental variable on production instead.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-141966356%2FFunctions%2F-251573632" anchor-label="toMessagesMap" id="-141966356%2FFunctions%2F-251573632" data-filterable-set=":/main"></a>
          <div class="table-row" data-filterable-current=":/main" data-filterable-set=":/main">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="to-messages-map.html"><span>to</span><wbr></wbr><span>Messages</span><wbr></wbr><span><span>Map</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-141966356%2FFunctions%2F-251573632"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":/main"><div class="symbol monospace"><span class="token keyword">fun </span><a href="to-messages-map.html"><span class="token function">toMessagesMap</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">incremental<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html">Boolean</a><span class="token operator"> = </span><span class="token boolean">true</span><span class="token punctuation">, </span></span><span class="parameter ">excludeLast<span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html">Boolean</a><span class="token operator"> = </span><span class="token boolean">true</span></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-map/index.html">Map</a><span class="token operator">&lt;</span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a><span class="token punctuation">, </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-any/index.html">Any</a><span class="token operator">&gt;</span><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">Converts the <span data-unresolved-link="cubibon.callAssistant.llm.message/MessagesManager/mutableMessages/#/PointingToDeclaration/">mutableMessages</span> into a list of maps for being stored ina NoSQL database (e.g., AWS DynamoDB), this is done through <a href="../-message-wrapper/-builder/to-map.html">MessageWrapper.Builder.toMap</a>.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-1877419066%2FFunctions%2F-251573632" anchor-label="toString" id="-1877419066%2FFunctions%2F-251573632" data-filterable-set=":/main"></a>
          <div class="table-row" data-filterable-current=":/main" data-filterable-set=":/main">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="to-string.html"><span>to</span><wbr></wbr><span><span>String</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-1877419066%2FFunctions%2F-251573632"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":/main"><div class="symbol monospace"><span class="token keyword">open </span><span class="token keyword">override </span><span class="token keyword">fun </span><a href="to-string.html"><span class="token function">toString</span></a><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">: </span><a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html">String</a></div><div class="brief "><p class="paragraph">Converts <a href="meta-messages.html">metaMessages</a> message to a formatted string. Also, it shows the position of <span data-unresolved-link="cubibon.callAssistant.llm.message/MessagesManager/firstLlmMessageIdx/#/PointingToDeclaration/">firstLlmMessageIdx</span> with <code class="lang-kotlin">&quot;*&quot;</code>, and  <span data-unresolved-link="cubibon.callAssistant.llm.message/MessagesManager/messageMapIdx/#/PointingToDeclaration/">messageMapIdx</span> with `&quot;-&quot;. If these two symbols are missing it means that they are pointing to the next element, which does not exist yet.</p></div></div></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
    <div class="footer">
        <a href="#content" id="go-to-top-link" class="footer--button footer--button_go-to-top"></a>
        <span>Â© 2025 Copyright</span>
        <span class="pull-right">
            <span>Generated by </span>
            <a class="footer--link footer--link_external" href="https://github.com/Kotlin/dokka">
                <span>dokka</span>
            </a>
        </span>
    </div>
            </div>
        </div>
    </div>
</body>
</html>